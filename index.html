<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Объявка</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    :root {
      --yellow: #FFD600;
      --black: #000000;
      --gray: #f5f5f5;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--gray);
      margin: 0;
      padding: 0;
    }

    .navbar {
      background-color: var(--black);
      border-bottom: 2px solid var(--yellow);
    }

    .navbar-brand {
      color: var(--yellow) !important;
      font-weight: bold;
      font-size: 1.6rem;
      user-select: none;
      pointer-events: none;
    }

    .nav-link {
      color: #fff !important;
      font-weight: 500;
    }

    .btn-primary, .btn-dark {
      background-color: var(--yellow);
      border: none;
      color: #000;
      border-radius: 10px;
    }

    .btn-primary:hover, .btn-dark:hover {
      background-color: #e6c200;
    }

    .container-section {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.05);
      padding: 30px;
      margin-bottom: 30px;
    }

    .compact-search {
      padding: 20px;
      border-radius: 16px;
      background: white;
      box-shadow: 0 2px 12px rgba(0,0,0,0.05);
    }

    #searchSuggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 12px;
      z-index: 999;
      max-height: 200px;
      overflow-y: auto;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    #searchSuggestions div {
      padding: 10px 15px;
      cursor: pointer;
    }

    #searchSuggestions div:hover {
      background-color: #f0f0f0;
    }

    .dropdown-menu {
      max-height: 200px;
      overflow-y: auto;
    }

    .hover-shadow:hover {
      transform: scale(1.05);
    }

    .footer {
      background-color: var(--black);
      color: #fff;
      text-align: center;
      padding: 30px 0;
      border-top: 2px solid var(--yellow);
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="#">☀ Объявка</a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#">Главная</a></li>
          <li class="nav-item"><a class="nav-link" href="#categories">Категории</a></li>
          <li class="nav-item"><a class="nav-link" href="#new-ads">Объявления</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Войти</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container my-5">
    <div class="container-section compact-search position-relative">
      <form class="d-flex flex-column flex-md-row align-items-stretch" autocomplete="off">
        <div class="dropdown me-md-2 mb-2 mb-md-0">
          <button class="btn btn-outline-dark dropdown-toggle w-100 h-100" type="button" data-bs-toggle="dropdown">
            <span id="selectedCategory">Все категории</span>
          </button>
          <ul class="dropdown-menu" id="categoryList">
            <li><a class="dropdown-item" href="#" data-cat="all">Все категории</a></li>
            <li><a class="dropdown-item" href="#" data-cat="realty">Недвижимость</a></li>
            <li><a class="dropdown-item" href="#" data-cat="auto">Транспорт</a></li>
            <li><a class="dropdown-item" href="#" data-cat="work">Работа</a></li>
            <li><a class="dropdown-item" href="#" data-cat="services">Услуги</a></li>
          </ul>
        </div>
        <div class="flex-grow-1 position-relative me-md-2">
          <input type="text" class="form-control rounded-pill ps-3" id="searchInput" placeholder="Поиск товаров или категорий..." />
          <div class="d-none" id="searchSuggestions"></div>
        </div>
        <button class="btn btn-primary rounded-pill">Найти</button>
      </form>

      <div class="mt-4" id="categories">
        <h5 class="mb-3">Популярные категории</h5>
        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-5 g-3">
          <!-- Пример категории -->
          <div class="col">
            <a href="#" class="text-decoration-none text-dark">
              <div class="card h-100 text-center p-3 bg-light border-0 shadow-sm hover-shadow">
                <div class="mb-2">
                  <svg width="64" height="64" viewBox="0 0 24 24"><circle cx="12" cy="12" r="12" fill="#FFD600"/><path d="M5 13h14l-1.5-4.5h-11zM7 16a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm10 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z" fill="#000"/></svg>
                </div>
                <div><strong>Транспорт</strong></div>
              </div>
            </a>
          </div>
          <!-- Добавь остальные категории по аналогии -->
        </div>
      </div>
    </div>

    <div class="container-section" id="new-ads">
      <h3 class="text-center mb-4">Новые объявления</h3>
      <div class="row" id="adsContainer"></div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <p>© 2025 Объявка. Все права защищены.</p>
    </div>
  </footer>

  <button id="backToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">^</button>

  <script>
    const searchInput = document.getElementById('searchInput');
    const searchSuggestions = document.getElementById('searchSuggestions');
    const selectedCategory = document.getElementById('selectedCategory');
    const categoryList = document.getElementById('categoryList');

    const products = Array.from({length: 50}, (_, i) => `Товар #${i+1}`);
    const categories = ['Недвижимость', 'Транспорт', 'Работа', 'Услуги', 'Электроника'];

    categoryList.querySelectorAll('a').forEach(item => {
      item.addEventListener('click', e => {
        e.preventDefault();
        selectedCategory.textContent = item.textContent;
      });
    });

    searchInput.addEventListener('input', () => {
      const value = searchInput.value.toLowerCase();
      searchSuggestions.innerHTML = '';

      if (value.length === 0) {
        searchSuggestions.classList.add('d-none');
        return;
      }

      const matchedProducts = products.filter(p => p.toLowerCase().includes(value)).slice(0, 5);
      const matchedCategories = categories.filter(c => c.toLowerCase().includes(value)).slice(0, 3);

      matchedCategories.forEach(c => {
        const div = document.createElement('div');
        div.textContent = `Категория: ${c}`;
        div.addEventListener('click', () => {
          searchInput.value = c;
          searchSuggestions.classList.add('d-none');
        });
        searchSuggestions.appendChild(div);
      });

      matchedProducts.forEach(p => {
        const div = document.createElement('div');
        div.textContent = `Товар: ${p}`;
        div.addEventListener('click', () => {
          searchInput.value = p;
          searchSuggestions.classList.add('d-none');
        });
        searchSuggestions.appendChild(div);
      });

      searchSuggestions.classList.remove('d-none');
    });

    document.addEventListener('click', (e) => {
      if (!searchSuggestions.contains(e.target) && e.target !== searchInput) {
        searchSuggestions.classList.add('d-none');
      }
    });

    const ads = Array.from({length: 50}).map((_, i) => ({
      title: `Товар #${i + 1}`,
      price: `${(Math.random() * 30000 + 1000).toFixed(0)} ₽`,
      image: `https://cdn-icons-png.flaticon.com/512/2748/2748558.png`
    }));

    let loaded = 0;
    const step = 9;
    const adsContainer = document.getElementById('adsContainer');

    function renderAds() {
      const slice = ads.slice(loaded, loaded + step);
      slice.forEach(ad => {
        const card = document.createElement('div');
        card.className = 'col';
        card.innerHTML = `
          <div class="product-card shadow rounded p-3 bg-white">
            <img alt="Нет фото" class="img-fluid rounded mb-3" src="${ad.image}" style="height: 200px; width: 100%; object-fit: contain; background: #f9f9f9;" />
            <div class="p-3">
              <h5>${ad.title}</h5>
              <div class="btn btn-primary btn-sm w-100 mb-2">${ad.price}</div>
              <a class="btn btn-primary btn-sm w-100" href="#">Подробнее</a>
            </div>
          </div>`;
        adsContainer.appendChild(card);
      });
      loaded += step;
    }

    window.addEventListener('scroll', () => {
      if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {
        if (loaded < ads.length) renderAds();
      }

      const btn = document.getElementById('backToTop');
      btn.style.display = window.scrollY > 300 ? 'block' : 'none';
    });

    renderAds();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
