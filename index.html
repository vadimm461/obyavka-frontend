<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–û–±—ä—è–≤–∫–∞</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
  <style>
    body { background-color: #f8f9fa; font-family: Arial, sans-serif; }
    .header { background-color: #111; padding: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
    .logo img { height: 50px; user-drag: none; user-select: none; }
    .auth-buttons { display: flex; gap: 10px; flex-wrap: wrap; }
    .auth-buttons .btn { border-radius: 20px; padding: 6px 14px; font-size: 14px; min-width: 90px; }
    .search-bar {
      display: flex; flex-wrap: wrap; justify-content: center; align-items: center;
      gap: 8px; background-color: #ffcc00; padding: 10px 12px;
      border-radius: 14px; margin: 25px auto; max-width: 95%; min-width: 300px;
    }
    .search-bar input, .search-bar select, .search-bar button {
      height: 40px; font-size: 14px; border-radius: 10px;
      padding: 5px 10px; box-sizing: border-box;
    }
    .search-bar button { background-color: #111; color: gold; border: none; }
    .category {
      background: #fff; padding: 15px; border-radius: 10px;
      width: 100px; text-align: center; margin: 5px;
      flex: 1 1 90px; max-width: 120px;
    }
    .category img { width: 36px; height: 36px; }
    footer { text-align: center; padding: 20px; font-size: 14px; color: #777; }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">
      <img src="https://github.com/vadimm461/obyavka-frontend/blob/main/cropped_text_image.png?raw=true" alt="–õ–æ–≥–æ—Ç–∏–ø –û–±—ä—è–≤–∫–∞" />
    </div>
    <div class="auth-buttons">
      <button class="btn" data-bs-toggle="modal" data-bs-target="#loginModal">–í—Ö–æ–¥</button>
      <button class="btn" style="background-color: #111; color: gold;" data-bs-toggle="modal" data-bs-target="#registerModal">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
    </div>
  </div>

  <div class="container">
    <!-- –ü–æ–∏—Å–∫–æ–≤–∞—è —Ñ–æ—Ä–º–∞ -->
    <form id="search-form" onsubmit="event.preventDefault(); handleSearch();">
      <div class="search-bar">
        <input type="text" name="query" class="form-control" placeholder="–ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π..." />
        <select name="category" class="form-select">
          <option selected>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</option>
          <option>–ê–≤—Ç–æ</option>
          <option>–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
          <option>–¢–µ—Ö–Ω–∏–∫–∞</option>
          <option>–ú–æ—Ç–æ</option>
          <option>–†–∞–±–æ—Ç–∞</option>
        </select>
        <input type="number" name="minPrice" class="form-control" placeholder="–ú–∏–Ω. —Ü–µ–Ω–∞" />
        <input type="number" name="maxPrice" class="form-control" placeholder="–ú–∞–∫—Å. —Ü–µ–Ω–∞" />
        <button class="btn" type="submit">üîç –ù–∞–π—Ç–∏</button>
      </div>
    </form>

    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
    <div class="categories d-flex flex-wrap justify-content-center">
      <div class="category"><img src="https://cdn-icons-png.flaticon.com/512/743/743007.png" alt="–ê–≤—Ç–æ"><span>–ê–≤—Ç–æ</span></div>
      <div class="category"><img src="https://cdn-icons-png.flaticon.com/512/3944/3944390.png" alt="–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"><span>–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</span></div>
      <div class="category"><img src="https://cdn-icons-png.flaticon.com/512/1041/1041916.png" alt="–¢–µ—Ö–Ω–∏–∫–∞"><span>–¢–µ—Ö–Ω–∏–∫–∞</span></div>
      <div class="category"><img src="https://cdn-icons-png.flaticon.com/512/809/809957.png" alt="–ú–æ—Ç–æ"><span>–ú–æ—Ç–æ</span></div>
      <div class="category"><img src="https://cdn-icons-png.flaticon.com/512/1995/1995562.png" alt="–†–∞–±–æ—Ç–∞"><span>–†–∞–±–æ—Ç–∞</span></div>
    </div>

    <!-- –û–±—ä—è–≤–ª–µ–Ω–∏—è -->
    <h3 class="mt-4 mb-3 text-center">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</h3>
    <div class="ads-container" id="ads-output">
      <!-- –û–±—ä—è–≤–ª–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—é–¥–∞ -->
    </div>
  </div>

  <footer>¬© 2025 –û–±—ä—è–≤–∫–∞. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</footer>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">–í—Ö–æ–¥</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
        </div>
        <div class="modal-body">
          <form onsubmit="event.preventDefault(); alert('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω!');">
            <input type="email" class="form-control mb-2" placeholder="Email" required />
            <input type="password" class="form-control mb-2" placeholder="–ü–∞—Ä–æ–ª—å" required />
            <button type="submit" class="btn btn-dark w-100">–í–æ–π—Ç–∏</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
  <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
        </div>
        <div class="modal-body">
          <form onsubmit="event.preventDefault(); handleRegister();">
            <input type="text" class="form-control mb-2" placeholder="–ò–º—è" required />
            <input type="email" class="form-control mb-2" placeholder="Email" required />
            <input type="password" class="form-control mb-2" placeholder="–ü–∞—Ä–æ–ª—å" required />
            <input type="password" class="form-control mb-2" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required />
            <button type="submit" class="btn btn-dark w-100">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏–∑ localStorage
    function renderAds() {
      const ads = JSON.parse(localStorage.getItem("ads") || "[]");
      const adsOutput = document.getElementById("ads-output");
      adsOutput.innerHTML = "";

      ads.forEach(ad => {
        const adHTML = `
          <div class="card mb-3">
            <div class="card-body">
              <h5 class="card-title">${ad.title}</h5>
              <p class="card-text">${ad.description} –¶–µ–Ω–∞: ${ad.price}</p>
              <p class="card-text"><small class="text-muted">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${ad.category}</small></p>
            </div>
          </div>
        `;
        adsOutput.innerHTML += adHTML;
      });
    }

    function saveAdToLocalStorage(ad) {
      let ads = JSON.parse(localStorage.getItem("ads") || "[]");
      ads.unshift(ad); // –ù–æ–≤–æ–µ —Å–≤–µ—Ä—Ö—É
      localStorage.setItem("ads", JSON.stringify(ads));
      renderAds();
    }

    document.addEventListener("DOMContentLoaded", () => {
      if (!localStorage.getItem("ads")) {
        saveAdToLocalStorage({
          title: "–ü—Ä–æ–¥–∞–º –≤–µ–ª–æ—Å–∏–ø–µ–¥",
          description: "–ü–æ—á—Ç–∏ –Ω–æ–≤—ã–π, –µ–∑–¥–∏–ª 3 —Ä–∞–∑–∞. –í –ø–æ–¥–∞—Ä–æ–∫ –Ω–∞—Å–æ—Å.",
          category: "–ú–æ—Ç–æ",
          price: "15 000‚ÇΩ"
        });
      } else {
        renderAds();
      }
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∏—Å–∫–∞
    function handleSearch() {
      const form = document.getElementById("search-form");
      const data = new FormData(form);
      const query = data.get("query");
      const category = data.get("category");
      const minPrice = data.get("minPrice");
      const maxPrice = data.get("maxPrice");

      alert(`–ü–æ–∏—Å–∫: ${query}\n–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${category}\n–¶–µ–Ω–∞: ${minPrice} - ${maxPrice}`);
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    function handleRegister() {
      const form = document.querySelector("#registerModal form");
      const inputs = form.querySelectorAll("input");
      const name = inputs[0].value;
      const email = inputs[1].value;
      const password = inputs[2].value;
      const confirm = inputs[3].value;

      if (password !== confirm) {
        alert("–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!");
        return;
      }

      // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
      console.log("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:", { name, email, password });

      alert("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!");
      const modal = bootstrap.Modal.getInstance(document.getElementById('registerModal'));
      modal.hide();
    }
  </script>
</body>
</html>
